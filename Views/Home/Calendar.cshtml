@{
    ViewData["Title"] = "Calendar";
}

<div class="d-flex align-items-center mb-4">
    <div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></li>
            <li class="breadcrumb-item active">Calendar</li>
        </ol>
        <h1 class="page-header mb-0">
            <i class="fa fa-calendar text-primary me-2"></i> Calendar
        </h1>
        <p class="text-muted">Manage your schedule and events</p>
    </div>
    <div class="ms-auto">
        <button class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#addEventModal">
            <i class="fa fa-plus me-1"></i> Add Event
        </button>
    </div>
</div>

<!-- Calendar Card -->
<div class="card panel panel-inverse">
    <div class="card-header bg-gradient-dark panel-heading">
        <h4 class="panel-title text-white mb-0">
            <i class="fa fa-calendar-alt me-2"></i> Event Calendar
        </h4>
    </div>
    <div class="card-body">
        <div id="calendar"></div>
    </div>
</div>

<!-- Upcoming Events Card -->
<div class="row mt-4">
    <div class="col-xl-8">
        <div class="card">
            <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                    <i class="fa fa-clock me-2 text-primary"></i> Upcoming Events
                </h5>
            </div>
            <div class="card-body">
                <div class="list-group list-group-flush">
                    <div class="list-group-item d-flex align-items-center">
                        <div class="me-3">
                            <div class="bg-primary text-white rounded p-3 text-center" style="width: 60px;">
                                <div class="fw-bold fs-4">15</div>
                                <div class="small">DEC</div>
                            </div>
                        </div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Team Meeting</h6>
                            <p class="text-muted mb-0 small">
                                <i class="fa fa-clock me-1"></i> 10:00 AM - 11:30 AM
                            </p>
                        </div>
                        <div>
                            <span class="badge bg-info">Meeting</span>
                        </div>
                    </div>
                    <div class="list-group-item d-flex align-items-center">
                        <div class="me-3">
                            <div class="bg-success text-white rounded p-3 text-center" style="width: 60px;">
                                <div class="fw-bold fs-4">18</div>
                                <div class="small">DEC</div>
                            </div>
                        </div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Project Deadline</h6>
                            <p class="text-muted mb-0 small">
                                <i class="fa fa-clock me-1"></i> All Day
                            </p>
                        </div>
                        <div>
                            <span class="badge bg-danger">Deadline</span>
                        </div>
                    </div>
                    <div class="list-group-item d-flex align-items-center">
                        <div class="me-3">
                            <div class="bg-warning text-dark rounded p-3 text-center" style="width: 60px;">
                                <div class="fw-bold fs-4">20</div>
                                <div class="small">DEC</div>
                            </div>
                        </div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Client Presentation</h6>
                            <p class="text-muted mb-0 small">
                                <i class="fa fa-clock me-1"></i> 2:00 PM - 4:00 PM
                            </p>
                        </div>
                        <div>
                            <span class="badge bg-primary">Presentation</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-4">
        <div class="card">
            <div class="card-header bg-light">
                <h5 class="card-title mb-0">
                    <i class="fa fa-chart-bar me-2 text-success"></i> Event Statistics
                </h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Total Events</span>
                        <span class="fw-bold">24</span>
                    </div>
                    <div class="progress" style="height: 10px;">
                        <div class="progress-bar bg-primary" style="width: 100%"></div>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Completed</span>
                        <span class="fw-bold">18</span>
                    </div>
                    <div class="progress" style="height: 10px;">
                        <div class="progress-bar bg-success" style="width: 75%"></div>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Upcoming</span>
                        <span class="fw-bold">6</span>
                    </div>
                    <div class="progress" style="height: 10px;">
                        <div class="progress-bar bg-warning" style="width: 25%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add Event Modal -->
<div class="modal fade" id="addEventModal" tabindex="-1" aria-labelledby="addEventModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="addEventModalLabel">
                    <i class="fa fa-plus-circle me-2"></i> Add New Event
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Event Title <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" placeholder="Enter event title">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Start Date <span class="text-danger">*</span></label>
                        <input type="datetime-local" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">End Date <span class="text-danger">*</span></label>
                        <input type="datetime-local" class="form-control">
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Event Type</label>
                        <select class="form-select">
                            <option>Meeting</option>
                            <option>Deadline</option>
                            <option>Presentation</option>
                            <option>Training</option>
                            <option>Other</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label fw-semibold">Description</label>
                        <textarea class="form-control" rows="3" placeholder="Event description..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer bg-light">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">
                    <i class="fa fa-save me-1"></i> Save Event
                </button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.css' rel='stylesheet' />
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                events: [
                    {
                        title: 'Team Meeting',
                        start: '2024-12-15T10:00:00',
                        end: '2024-12-15T11:30:00',
                        backgroundColor: '#0d6efd',
                        borderColor: '#0d6efd'
                    },
                    {
                        title: 'Project Deadline',
                        start: '2024-12-18',
                        backgroundColor: '#dc3545',
                        borderColor: '#dc3545'
                    },
                    {
                        title: 'Client Presentation',
                        start: '2024-12-20T14:00:00',
                        end: '2024-12-20T16:00:00',
                        backgroundColor: '#ffc107',
                        borderColor: '#ffc107'
                    }
                ],
                editable: true,
                selectable: true,
                selectMirror: true,
                dayMaxEvents: true,
                select: function(arg) {
                    var modal = new bootstrap.Modal(document.getElementById('addEventModal'));
                    modal.show();
                }
            });
            calendar.render();
        });
    </script>
}